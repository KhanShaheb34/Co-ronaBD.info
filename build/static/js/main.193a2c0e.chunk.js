(this.webpackJsonpidbbd=this.webpackJsonpidbbd||[]).push([[0],{52:function(t,e,a){t.exports=a(88)},57:function(t,e,a){},87:function(t,e,a){},88:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),d=(a(57),a(11)),i=a(24),c=a(25),s=a(19),u=a(30),h=a(29),m=a(14),p=a.n(m),f=a(17),b=a(26),v=a.n(b),y=a(46),w=Object(f.a)(p.a.mark((function t(){var e,a,n,r,o,l,i,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("https://cors-anywhere.herokuapp.com/http://www.iedcr.gov.bd/",{});case 2:return e=t.sent,a=Object(y.parse)(e.data),n=a.querySelectorAll("tr"),r=n[0].childNodes[1].childNodes[0].rawText.split(" ")[2].split("-").reverse().join("-"),o=new Date(r),l={test_conducted_24_hour:n[1].childNodes[7].childNodes[0].rawText,test_conducted_total:n[2].childNodes[7].childNodes[0].rawText,test_positive_24_hour:n[3].childNodes[7].childNodes[0].rawText,test_positive_total:n[4].childNodes[7].childNodes[0].rawText},i=a.querySelectorAll(".col-sm-3"),c={recovered_24_hour:i[0].querySelector("h3").childNodes[0].rawText,recovered_total:i[1].querySelector("h3").childNodes[0].rawText,death_24_hour:i[2].querySelector("h3").childNodes[0].rawText,death_total:i[3].querySelector("h3").childNodes[0].rawText},t.abrupt("return",Object(d.a)({lastUpdateTime:o},l,{},c));case 11:case"end":return t.stop()}}),t)}))),x=Object(f.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("https://cors-anywhere.herokuapp.com/https://corona-bd.herokuapp.com/district");case 2:return(e=t.sent).data.data[e.data.data.findIndex((function(t){return"Dhaka City"===t.name}))].name="Dhaka",e.data.data[e.data.data.findIndex((function(t){return"Barishal"===t.name}))].name="Barisal",e.data.data[e.data.data.findIndex((function(t){return"Jhalokathi"===t.name}))].name="Jhalokati",e.data.data[e.data.data.findIndex((function(t){return"Potuakhali"===t.name}))].name="Patuakhali",e.data.data[e.data.data.findIndex((function(t){return"Chattogram"===t.name}))].name="Chittagong",e.data.data[e.data.data.findIndex((function(t){return"Cumilla"===t.name}))].name="Comilla",e.data.data[e.data.data.findIndex((function(t){return"Cox\u2019s bazar"===t.name}))].name="Cox'S Bazar",e.data.data[e.data.data.findIndex((function(t){return"Laksmipur"===t.name}))].name="Lakshmipur",e.data.data[e.data.data.findIndex((function(t){return"Munshigonj"===t.name}))].name="Munshiganj",e.data.data[e.data.data.findIndex((function(t){return"Netrokona"===t.name}))].name="Netrakona",e.data.data[e.data.data.findIndex((function(t){return"Hobiganj"===t.name}))].name="Habiganj",e.data.data[e.data.data.findIndex((function(t){return"Moulovi Bazar"===t.name}))].name="Maulvibazar",t.abrupt("return",e.data);case 16:case"end":return t.stop()}}),t)}))),g=Object(f.a)(p.a.mark((function t(){var e,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:return e=t.sent,t.next=5,x();case 5:return a=t.sent,t.abrupt("return",Object(d.a)({},e,{districts:a.data,district_data_updated_on:a.updated_on}));case 7:case"end":return t.stop()}}),t)}))),k=a(99),E=a(97),j=a(96),C=a(98),O=a(91),N=(a(45),a(82),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={lat:23.685,lng:90.3563,zoom:6.5,map:null,loaded:!1,data:null,max:-1,min:9999999999,selctedName:"",selectedCount:"",modalShow:!1},n.style=n.style.bind(Object(s.a)(n)),n.handleMapClick=n.handleMapClick.bind(Object(s.a)(n)),n.setModalShowFalse=n.setModalShowFalse.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("/bd.geojson").then((function(t){return t.json()})).then((function(e){return t.setState(Object(d.a)({},t.state,{map:e})),g()})).then((function(e){var a=-1,n=9999999999;e.districts.forEach((function(t){a<t.count&&(a=t.count),n>t.count&&(n=t.count)})),t.setState(Object(d.a)({},t.state,{data:e,max:a,min:n,loaded:!0}))}))}},{key:"scale",value:function(t,e,a,n,r){return(t-e)*(r-n)/(a-e)+n}},{key:"getCount",value:function(t){var e=this.state.data.districts.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}));return e?e.count:0}},{key:"getFillOpacity",value:function(t){var e=this.getCount(t);return e?this.scale(Math.log10(e),Math.log10(this.state.min),Math.log10(this.state.max),.3,1):0}},{key:"style",value:function(t){return{fillColor:"#e74c3c",weight:1,opacity:.5,color:"#2c3e50",fillOpacity:this.getFillOpacity(t.properties.NAME_2)}}},{key:"setModalShowFalse",value:function(){this.setState(Object(d.a)({},this.state,{modalShow:!1}))}},{key:"handleMapClick",value:function(t){var e=t.layer.feature.properties.NAME_2,a=this.getCount(e);this.setState(Object(d.a)({},this.state,{selectedName:e,selectedCount:a,modalShow:!0})),this.setState(Object(d.a)({},this.state,{modalShow:!0})),console.log({name:e,count:a})}},{key:"render",value:function(){var t=[this.state.lat,this.state.lng];return this.state.loaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{style:{width:"100%",height:"100%",backgroundColor:"#ecf0f1"},center:t,zoom:this.state.zoom},r.a.createElement(E.a,{data:this.state.map,style:this.style,onClick:this.handleMapClick})),r.a.createElement(j.a,{show:this.state.modalShow,size:"sm","aria-labelledby":"data-modal",onHide:this.setModalShowFalse,centered:!0},r.a.createElement(j.a.Body,{style:{textAlign:"center"}},r.a.createElement("h5",null,"Total Positive in ",this.state.selectedName),r.a.createElement("h4",null,this.state.selectedCount),r.a.createElement(C.a,{onClick:this.setModalShowFalse},"Close")))):r.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(O.a,{animation:"border",role:"status",style:{height:"100px",width:"100px"},variant:"danger"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),a}(n.Component)),S=a(92),_=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={loaded:!1,data:null},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this;g().then((function(e){t.setState(Object(d.a)({},t.state,{data:e,loaded:!0}))}))}},{key:"render",value:function(){return this.state.loaded?r.a.createElement("div",null,r.a.createElement("h3",{align:"center"},"District Wise Data"),r.a.createElement(S.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"District"),r.a.createElement("th",null,"Count"))),this.state.data.districts.map((function(t){return r.a.createElement("tbody",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.count))})))):r.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(O.a,{animation:"border",role:"status",style:{height:"100px",width:"100px"},variant:"danger"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),a}(n.Component),M=a(93),I=a(94),T=a(95);a(87);var z=function(){return r.a.createElement(M.a,{fluid:!0,className:"App"},r.a.createElement(I.a,{style:{height:"100vh",backgroundColor:"#ecf0f1"}},r.a.createElement(T.a,{md:8,style:{height:"100vh"}},r.a.createElement(N,null)),r.a.createElement(T.a,{md:4,className:"p-5 pr-4",style:{overflowY:"scroll",backgroundColor:"white",height:"100vh",boxShadow:"0px 0px 20px 0px rgba(0,0,0,0.3)"}},r.a.createElement(_,null))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root"))}},[[52,1,2]]]);